var Cat={};jQuery(document).ready(function(){Cat.setup();var frame=function(){Cat.update();window.requestAnimationFrame(frame)};frame()});Cat.getSpacedRandomArray=function(layers,space,minPX,maxPX){var arr=[0];var output=[];var minSize=5,maxSize=30;var increment=0;for(var layer=0;layer<layers;layer++){increment+=Math.floor(minSize+maxSize*Math.random());arr.push(increment);increment+=space;arr.push(increment)}var finalValue=arr[arr.length-1];for(var i=0;i<arr.length;i++){var value=arr[i];output.push(minPX+(maxPX-minPX)/finalValue*value)}return output};Cat.setup=function(){var canvas=document.createElement("canvas");var height=window.innerHeight,width=window.innerWidth;canvas.height=height;canvas.width=width;canvas.id="canvasload";canvas.style.zIndex="999";canvas.style.position="absolute";this.width=width;this.height=height;this.xC=width/2;this.yC=height/2;this.ctx=canvas.getContext("2d");jQuery(".loading-page2").prepend(canvas);this.stepCount=0;this.maxPop=10;this.particles=[];this.stars=[];this.croissants=[];this.croissantsBirth()};Cat.update=function(){this.stepCount++;if(this.stepCount%50==0&&this.particles.length<this.maxPop){this.birth()}if(this.stepCount%10==0){this.starBirth()}this.move();this.draw()};Cat.birth=function(){var ang=2*Math.PI*Math.random();var rad=30+200*Math.random();var x=this.xC+rad*Math.cos(ang);var y=this.yC+rad*Math.sin(ang);var particle={x:x,y:y,xSpeed:0,ySpeed:0,r:rad,rSpeed:0.02*Math.random(),angle:ang,angleSpeed:0.2*Math.random(),size:3+10*Math.random()};this.particles.push(particle)};Cat.starBirth=function(){var star={r:Math.max(this.height,this.width)*2,angle:2*Math.PI*Math.random()};this.stars.push(star)};Cat.croissantsBirth=function(){var croissantsBase=this.getSpacedRandomArray(5,10,150,250);for(var c=0;c<croissantsBase.length/2;c++){var croissant={innerRad:croissantsBase[2*c],outerRad:croissantsBase[2*c+1],span:Math.PI*(0.2+1*Math.random()),angle:0,angleSpeed:0.2*Math.random(),hue:180+30*Math.random()};this.croissants.push(croissant)}};Cat.move=function(){for(var i=0;i<this.particles.length;i++){var particle=this.particles[i];particle.rSpeed+=0.5-particle.r/100;particle.r+=0.1*particle.rSpeed;particle.angle+=particle.angleSpeed;particle.x=this.xC+particle.r*Math.cos(particle.angle);particle.y=this.yC+particle.r*Math.sin(particle.angle)}for(var k=0;k<this.croissants.length;k++){var croissant=this.croissants[k];croissant.angle-=croissant.angleSpeed}for(var j=0;j<this.stars.length;j++){var star=this.stars[j];star.r-=(star.r-30)/40}};Cat.draw=function(){this.ctx.beginPath();this.ctx.rect(0,0,this.width,this.height);this.ctx.fillStyle="rgba(0, 0, 0, 0.5)";this.ctx.shadowBlur=0;this.ctx.fill();for(var j=0;j<this.stars.length;j++){var star=this.stars[j];this.ctx.beginPath();this.ctx.arc(this.xC+star.r*Math.cos(star.angle),this.yC+star.r*Math.sin(star.angle),Math.floor((star.r-30)/10),0,2*Math.PI,true);this.ctx.fillStyle="rgba(255, 255, 255, 0.75)";this.ctx.fill()}for(var k=0;k<this.croissants.length;k++){var croissant=this.croissants[k];this.ctx.beginPath();var x=this.xC+croissant.innerRad*Math.cos(croissant.angle);var y=this.yC+croissant.innerRad*Math.sin(croissant.angle);var glitch=Math.random()>0.9;this.ctx.arc(this.xC,this.yC,croissant.innerRad,croissant.angle,croissant.angle+croissant.span,glitch);this.ctx.strokeStyle=this.ctx.shadowColor="hsla("+croissant.hue+", 80%, 40%, 0.8)";this.ctx.shadowBlur=20;this.ctx.lineWidth=croissant.outerRad-croissant.innerRad;this.ctx.stroke()}for(var i=0;i<this.particles.length;i++){var particle=this.particles[i];this.ctx.beginPath();this.ctx.moveTo(this.xC,this.yC);this.ctx.lineWidth=0.5;this.ctx.lineTo(particle.x,particle.y);this.ctx.strokeStyle="hsl(200, 80%, 60%)";this.ctx.shadowBlur=5;this.ctx.shadowColor="hsl(200, 80%, 60%)";this.ctx.stroke();this.ctx.beginPath();this.ctx.arc(particle.x,particle.y,Math.abs(particle.r)/10,0,2*Math.PI,true);this.ctx.lineWidth=2;this.ctx.fillStyle="black";this.ctx.stroke();this.ctx.fill()}};